''motor driverCON  VERSION = 3  PWM_REF_MAX = 10000             'the number that means 100% pwmVAR  my_pin_fwd  my_pin_revPUB include()  repeatPUB start(fwd_pin, rev_pin, pwm_hz)  my_pin_fwd := fwd_pin  startpwm(fwd_pin, pwm_hz, PWM_REF_MAX)  my_pin_rev := rev_pin  startpwm(rev_pin, pwm_hz, PWM_REF_MAX)PUB setpwm(value)  if value==0    wypin(my_pin_fwd, 0)    wypin(my_pin_rev, 0)  elseif value>0    wypin(my_pin_fwd, value)    wypin(my_pin_rev, 0)  else    wypin(my_pin_fwd, 0)    wypin(my_pin_rev, -value)PUB ebrake()  wypin(my_pin_fwd, PWM_REF_MAX)  wypin(my_pin_rev, PWM_REF_MAX)PUB coast()  wypin(my_pin_fwd, 0)  wypin(my_pin_rev, 0)PUB startpwm(pin, pwm_hz, pwm_ref) | m, x  m := P_PWM_SAWTOOTH | P_OE  x.word[0] := 1 #> (clkfreq / pwm_hz) / pwm_ref <# $FFFF  x.word[1] := pwm_ref  pinstart(pin, m, x, 0)     'duty = 0